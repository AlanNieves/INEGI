# ========================================
# NOTAS IMPORTANTES PARA PRODUCCIÓN
# ========================================

## [CHECKLIST] CHECKLIST ANTES DE ENTREGAR

[OK] Frontend compilado en /dist
[OK] Backend configurado para servir frontend
[OK] Archivo .env.production creado
[OK] Scripts de inicio/parada creados
[OK] PM2 configurado en ecosystem.config.js
[OK] README de instalación completo
[OK] Carpetas logs/ creadas

## [IMPORTANTE] RECORDATORIOS PARA MARCO

1. **CAMBIAR MONGO_URI** en el archivo .env
   - Si usa MongoDB local: mongodb://localhost:27017/INEGI_DB
   - Si usa MongoDB Atlas: obtener URI desde atlas.mongodb.com

2. **GENERAR JWT_SECRET**
   - Ver archivo: GENERAR_JWT_SECRET.txt
   - Nunca usar el valor por defecto

3. **CONFIGURAR PUBLIC_BASE_URL**
   - Si accede desde la red local: http://[IP-DEL-SERVIDOR]:4000
   - Si accede solo localmente: http://localhost:4000

4. **FIREWALL**
   - Permitir puerto 4000 en el Firewall de Windows
   - Ver instrucciones en README_INSTALACION.md

5. **TEMPLATES**
   - Los archivos .hbs en /src/templates/ se copian automáticamente al compilar
   - No es necesario configurar TEMPLATES_PATH

## [COMANDOS] COMANDOS RÁPIDOS

Compilar backend:
```
npm run build
```

Iniciar en producción:
```
.\start.bat
```

Ver logs:
```
pm2 logs inegi-sistema
```

Estado:
```
pm2 status
```

## [ESTRUCTURA] ESTRUCTURA FINAL EN SERVIDOR

```
C:\INEGI\Sistema\backend\
├── dist/              # Backend compilado + Frontend
├── src/               # Código fuente
├── templates/         # Plantillas HBS
├── logs/              # Logs de PM2
├── node_modules/      # Dependencias
├── .env               # Configuración (copiado de .env.production)
├── ecosystem.config.js
├── start.bat
├── stop.bat
├── restart.bat
└── package.json
```

## [ACCESO] URLS DE ACCESO

Después de iniciar, el sistema estará en:
- http://localhost:4000 (desde el servidor)
- http://[IP-SERVER]:4000 (desde otras PCs en la red)

## [SOPORTE] SOPORTE

Si hay problemas:
1. Revisar logs: pm2 logs inegi-sistema
2. Verificar .env está configurado correctamente
3. Confirmar MongoDB está corriendo
4. Revisar puerto 4000 no esté ocupado: netstat -ano | findstr :4000
